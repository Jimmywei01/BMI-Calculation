{"version":3,"sources":["BMI2.js"],"names":["btn","document","querySelector","list","data","JSON","parse","localStorage","getItem","BMI","e","preventDefault","height","value","weight","lightBar","status","m","kg","toFixed","alert","date","Date","MM","getMonth","DD","getDate","time","getFullYear","getHours","getMinutes","getSeconds","setAttribute","textContent","push","bmiAll","update","setItem","stringify","item","str","len","length","i","innerHTML","delBmi","target","nodeName","addEventListener"],"mappings":"aAQA,IAAAA,IAAAC,SAAAC,cAAA,YAAAC,KAAAF,SAAAC,cAAA,SAEAE,KAAAC,KAAAC,MAAAC,aAAAC,QAAA,aAAA,GAaA,SAAAC,IAAAC,GACAA,EAAAC,iBACA,IAAAC,EAAAX,SAAAC,cAAA,WAAAW,MACAC,EAAAb,SAAAC,cAAA,WAAAW,MACAE,EAAA,GACAC,EAAA,GACAC,EAAAL,EAAA,IADAM,EAAAJ,EAGAL,GAAAS,GAAAD,EAAAA,IAAAE,QAAA,GAGA,GAAA,OAAAV,EAGA,GAAA,IAAAG,EAGA,GAAA,IAAAE,EAGA,GAAA,IAAAF,EACAQ,MAAA,iBAEA,GAAA,IAAAN,EACAM,MAAA,gBADA,CAMA,IAAAC,EAAA,IAAAC,KACAC,EAAAF,EAAAG,WAAA,EACAC,EAAAJ,EAAAK,UAMAC,EALAN,EAAAO,cAKA,IAAAL,EAAA,IAAAE,EAAA,IAJAJ,EAAAQ,WAIA,IAHAR,EAAAS,aAGA,IAJAT,EAAAU,aASA/B,EAAAA,MACAgB,EAAA,KACAA,EAAAA,OACAD,IAAAA,aAAAA,QAAAA,SACAf,MAAAA,GAAAA,EAAAA,IACAgB,EAAA,KACAA,EAAAA,QACAD,IAAAA,aAAAA,QAAAA,UACAf,IAAAA,GAAAA,EAAAA,IACAgB,EAAA,KACAA,EAAAA,UACAD,IAAAA,aAAAA,QAAAA,YACAf,IAAAA,GAAAA,EAAAA,IACAgB,EAAA,OACAA,EAAAA,UACAD,IAAAA,aAAAA,QAAAA,YACAf,IAAAA,GAAAA,EAAAA,IACAgB,EAAA,OACAA,EAAAA,UACAD,IAAAA,aAAAA,QAAAA,YACAf,IAAAA,IACAgB,EAAA,OAFAD,EAAA,MAIAf,IAAAgC,aAAA,QAAA,QAIA/B,SAAAC,cAAA,UAAA+B,YAAAxB,EAFAR,SAAAC,cAAA,QAAA+B,YAAA,MAIAhC,SAAAC,cAAA,UAAA+B,YAAA,GAIArB,IAAAA,EAAAA,CACAE,SAAAA,EACAL,OAAAA,EACAkB,OAAAA,EANAb,OAAAI,EAKAT,IAAAA,EAIAkB,KAAAA,GAIAvB,KAAA8B,KAAAC,GAEAC,OAAAhC,MAEAG,aAAA8B,QAAA,UAAAhC,KAAAiC,UAAAlC,YAvEAgB,MAAA,iBAHAA,MAAA,iBAHAA,MAAA,aAiFA,SAAAgB,OAAAG,GAGApC,IAFAqC,IAAAA,EAAAA,GACAC,EAAAF,EAAAG,OACAvC,EAAAA,EAAAA,EAAAA,EAAAA,IACAqC,GAAA,iCAAAD,EAAAI,GAAA5B,SAAA,+BAAAwB,EAAAI,GAAA3B,OAAA,4EAAAuB,EAAAI,GAAAlC,IAAA,oFAAA8B,EAAAI,GAAA7B,OAAA,sFAAAyB,EAAAI,GAAA/B,OAAA,mCAAA2B,EAAAI,GAAAhB,KAAA,yGAAAgB,EAAA,SAEAxC,KAAAyC,UAAAJ,EAIA,SAAAK,OAAAnC,GACA,GADAA,EAAAC,iBACA,QAAAD,EAAAoC,OAAAC,SAAA,CACA3C,IAAAA,EAAAA,EAAAA,OAAAA,QAAAA,MACAgC,KAAAA,OAAAA,EAAAA,GACA7B,OAAAA,MACAA,aAAA8B,QAAA,UAAAhC,KAAAiC,UAAAlC,QAxHAJ,IAAAgD,iBAAA,QAAAvC,KAAA,GACAT,KAAAA,iBAAAA,QAAAA,QAAAA,GAEAoC,OAAAhC","file":"BMI2.js","sourcesContent":["\r\n// 輸入 weight height 計算 BMI\r\n// if 判斷結果 並改變狀態\r\n// 結果 push 到 array 裡 再存到 localstorg \r\n// 每新增,刪除一筆要 更新資料\r\n// 點擊 click  將 localstorg 結果顯示在網頁上\r\n\r\n\r\nvar btn = document.querySelector('.default');\r\nvar list = document.querySelector('.list');\r\n// 畫面顯示出資料若沒資料(第一筆)則 回傳空陣列\r\nvar data = JSON.parse(localStorage.getItem('bmiData')) || [];\r\nbtn.addEventListener('click',BMI,false);\r\nlist.addEventListener('click',delBmi,false);\r\n// 更新的update\r\nupdate(data)\r\n\r\n\r\n\r\n\r\n// 計算 BMI\r\nfunction BMI(e) {\r\n    e.preventDefault();\r\n    var height = document.querySelector('.height').value;\r\n    var weight = document.querySelector('.weight').value;\r\n    var lightBar = \"\";\r\n\tvar status = \"\";\r\n\tvar m = (height)/100;\r\n\tvar kg = weight;\r\n    var BMI = (kg/(m*m)).toFixed(2); //四捨五入\r\n\r\n// 輸入資料判斷\r\n    if(BMI == \"NaN\") {\r\n        alert('請輸入正確的數值!');\r\n        return;\r\n    }else if (height == '') {\r\n        alert(\"您尚未輸入身高！\");\r\n        return;\r\n    }else if (weight == '') {\r\n        alert (\"您尚未輸入體重！\");\r\n        return;\r\n    }else if ( height > 300) {\r\n        alert (\"請重新輸入身高！\");\r\n        return;\r\n    }else if (weight > 1000) {\r\n        alert (\"請重新輸入體重！\");\r\n        return;\r\n    }\r\n    \r\n// 計算日期時間\r\n    var date = new Date(); // 時間物件\r\n    var MM = (date.getMonth()+1);  // 從0開始 +1\r\n    var DD = date.getDate();\r\n    var YY = date.getFullYear();\r\n    var hours = date.getHours();\r\n    var min = date.getMinutes();\r\n    var sec = date.getSeconds();\r\n    var time = YY+'-'+MM+'-'+DD+' '+hours+':'+ min+':'+sec;\r\n\r\n\r\n// if 判斷 並設定屬性\r\n// 設定 button 裡面的 class 屬性為 blue\r\n    if(BMI<18.5) {\r\n        status = '過輕';\r\n        lightBar = 'blue';\r\n        btn.setAttribute(\"class\",\"blue\");  \r\n    }else if(18.5<=BMI && BMI<24) {\r\n        status = '理想';\r\n        lightBar = 'green';\r\n        btn.setAttribute(\"class\",\"green\");\r\n    }else if(24<=BMI && BMI<27) {\r\n        status = '過重';\r\n        lightBar = 'orange1';\r\n        btn.setAttribute(\"class\",\"orange1\");\r\n    }else if(27<=BMI && BMI<30) {\r\n        status = '輕度肥胖';\r\n        lightBar = 'orange2';\r\n        btn.setAttribute(\"class\",\"orange2\");\r\n    }else if(30<=BMI && BMI<35) {\r\n        status = '中度肥胖';\r\n        lightBar = 'orange2';\r\n        btn.setAttribute(\"class\",\"orange2\");\r\n    }else if(BMI>=35) {\r\n        status = '重度肥胖';\r\n        lightBar = 'red';\r\n        btn.setAttribute(\"class\",\"red\");\r\n    }\r\n\r\n// 把 BMI 結果代入(改寫 btnStatus)\r\n    document.querySelector('.value').textContent = BMI;\r\n    document.querySelector('.bmi').textContent = 'BMI';\r\n    document.querySelector('.click').textContent = '';\r\n // document.querySelector('.status').textContent = status;\r\n\r\n// 組合成物件\r\n    var bmiAll = {\r\n\t\tlightBar: lightBar,  \r\n\t\tstatus: status,\r\n\t\theight: height,\r\n\t\tweight: kg,\r\n\t\tBMI: BMI,\r\n        time: time,\r\n    };\r\n\r\n// 將資料物件 存入array\r\n    data.push(bmiAll);\r\n// 將資料更新  \r\n    update(data);\r\n// 存到 localstage\r\n    localStorage.setItem('bmiData',JSON.stringify(data));\r\n}\r\n\r\n// 更新內容\r\nfunction update(item){\r\n   var str ='';\r\n   var len = item.length;\r\n    for(var i = 0;i<len;i++){\r\n        str+= '<li><div class=\"lightBar\" id ='+ item[i].lightBar +'> </div><div class=\"status\">'+item[i].status+'</div><div class=\"box\"><div class=\"bmiName\">BMI</div> <div class=\"value\">'+item[i].BMI+'</div></div><div class=\"box\"><div class=\"bmiName\">weight</div><div class=\"value\">'+item[i].weight+'kg</div></div><div class=\"box\"><div class=\"bmiName\">height</div><div class=\"value\">'+item[i].height+'cm</div></div><div class=\"date\">'+item[i].time+'</div><img src=\"https://github.com/Jimmywei01/Pratice/blob/master/img.jpg?raw=true\" alt=\"\" data-index=' + i + '></li>';\r\n    }\r\n    list.innerHTML = str;\r\n}\r\n\r\n// 刪除內容\r\nfunction delBmi(e){\r\n    // 取消預設連結行為\r\n    e.preventDefault();\r\n    if(e.target.nodeName !=='IMG'){return};\r\n    var index = e.target.dataset.index; \r\n    data.splice(index,1);\r\n    update(data);\r\n    localStorage.setItem('bmiData',JSON.stringify(data));\r\n}\r\n\r\n"]}